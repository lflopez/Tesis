%Para probar la segunda parte del teorema principal usaremos una curva algebraica que sea transversal a todas las hojas de todas las foliaciones de la familia. Mediante esta tranversal obtendremos un grupo de holonomía. Algunas propiedades de este grupo nos ayudarán a probar la segunda parte del teorema. 

La siguiente porposición nos brinda información de como se intersectan hojas de distintas foliaciones de M que son inducidas por $(\Fol[4]{\alpha})_{\alpha\in\overline\C}$ y $\Pi\colon M\rightarrow\CP$, pero antes, recordemos parte de la notación que se usó antes de la proposición \ref{Prop:2}.

\begin{enumerate}


\item Llamemos M a la variedad que obtenemos de explotar y resolver los 12 puntos singulares de $\mathcal{P}$ y denotemos por $\Pi\colon M \rightarrow \CP$ al mapeo que resuelve las singularidades.

\item $\tilde{\Fol{\alpha}}$ será la foliación en $M$ inducida por $\Fol[4]{\alpha}$,  $\mathit{i.e.} \ \Pi^{*}(\Fol[4]{\alpha}) = \tilde{\Fol{\alpha}}$.

\item $D_{i}$ va a ser el divisor asociado a $p_{i} \in \mathcal{P} \ i=1,...,12. \ D_{i} = \Pi^{-1}(p_{i})$.

\item Para cada $l_{j} \in \mathcal{L}$ denotaremos por $\tilde{l}_{i} = \overline{\Pi^{-1}(l_{i} \setminus \{p_{i1}, p_{i2}, p_{i3}, p_{i4} \})}$, donde $p_{ik} \ k=1,...,4$ son los cuatro puntos de $\mathcal{P}$ que están en $l_{i}$.

\end{enumerate}


\begin{Proposicion}
\label{Prop:Transversalidad}
Si $\alpha\neq\beta$ entonces, $\tilde{\Fol{\alpha}}$ y $\tilde{\Fol{\beta}}$ son transversales afuera del conjunto $\tilde{\mathcal{L}} = \tilde{l}_{1}\cup\cdots\cup\tilde{l}_{9}$.
\end{Proposicion}

\begin{proof}
Supongamos que $\alpha , \beta\neq\infty$. Primero probaremos que $\tilde{\Fol{\alpha}},\tilde{\Fol{\beta}}$ son transversales afuera del conjunto $\mathcal{L}\cup D_{1}\cup\cdots\cup D_{12}$. Como $\Pi$ es un biholomorfismo fuera de $D_{1}\cup\cdots\cup D_{12}$, basta demostrar que $\Fol[4]{\alpha},\Fol[4]{\beta}$ son transversales afuera del conjunto $l_{1},\cup\ldots\cup l_{9}$. Si usamos los campos vectoriales que generan a las foliaciones y calculamos su determinante obtenemos:

\begin{equation*}
P_{\alpha}Q_{\beta}-P_{\beta}Q_{\alpha}=(\beta - \alpha)(x^{3}-1)(y^{3}-1)(y^{3}-x^{3}).
\end{equation*}

Todavía nos hace falta probar que son transversales en la recta al infinito. Si usamos el corolario \ref{Coro1Prop1} podemos encontrar un automorfismo $S$ de $\CP$ que mande a los puntos $[1:0:0],[0:1:0]$ a otros dos puntos de $\mathcal{P}$ pero que estén en la parte finita y por lo tanto la recta al infinito ahora está en la parte finita. Como las transformaciones que fijan a la configuración cumplen $S^{*}(\Fol[4]{\alpha})=\Fol[4]{\gamma}$, el cálculo anterior muestra que las foliaciones también son transversalen en la recta al infinito.\\

Resta ver que $\tilde{\Fol{\alpha}},\tilde{\Fol{\beta}}$ también son transversales en $D_{1}\cup\cdots\cup D_{12}\setminus\tilde{\mathcal{L}}$. Como por cada punto $p_{i}\in\mathcal{P}$ tenemos un divisor $D_{i}$, si usamos el corolario \ref{Coro2Prop1} sólo tenemos que ver que $\tilde{\Fol{\alpha}},\tilde{\Fol{\beta}}$ son transversales en uno de los doce divisores, usemos  $D_{1}=\Pi^{-1}(p_{1}=(0,0))$. Si explotamos el origen usando la carta $(u,x)$ en la cual  $\Pi(u,x)=(x,ux)$, las tres rectas de $\mathcal{L}$ que pasan por el origen ($y=x,y=jx,y=j^{2}x$) se transforman en las rectas $u=1,u=j,u=j^{2}$, el divisor $D_{1}$ queda descrito por $x=0$ y el campo vectorial que genera a $\tilde{\Fol{\alpha}}$ en esta carta es:

\begin{align*}
\dot{u}&= \alpha(u^{3}-1) + xh_{1}(u,x)\\
\dot{x}&= 1 + xh_{2}(u,x).
\end{align*}  

\noindent donde $h_{1}$ y $h_{2}$ son polinomios. Por lo tanto en el divisor $D_{1}$ las pendientes de $\tilde{\Fol{\alpha}},\tilde{\Fol{\beta}}$ son $\tfrac{du}{dx}=\alpha(u^{3}-1)$ y $\tfrac{du}{dx}=\beta(u^{3}-1)$ respectivamente, esto quiere decir que las foliaciones son transversales en $D_{1}\setminus\tilde{\mathcal{L}}$ (si usamos la otra carta, en la cual $\Pi(y,v)=(vy,y)$, obtenemos un resultado análogo).

\noindent Cuando $\beta=\infty$ un cálculo análogo muestra que $\tilde{\Foli_{\alpha}^{4}}$ y $\tilde{\Foli_{\infty}^{4}}$ son transversales en $M\setminus\tilde{\mathcal{L}}$. 
\end{proof}


La foliación $\Fol[4]{\infty}$ tiene por primera integral a $H=\tfrac{y^{3}-1}{x^{3}-1}$ (proposición \ref{Prop:3}), si usamos coordenadas homogéneas, las hojas de la foliación quedan descritas por $L_{c}=\{\tfrac{y^{3}-z^{3}}{x^{3}-z^{3}}=c\}$. Para $c=0$, $L_{c}=\{(y-z)(y-jz)(y-j^{2}z)=0\}$ y entonces el punto $[1:0:0]$ es un punto singular. Si $c=\infty$, $L_{c}=\{(x-z)(x-jz)(x-j^{2}z)=0\}$ y así, $[0:1:0]$ es un punto singular. Para $c=1$, $L_{c}=\{(y-x)(y-jx)(y-j^{2}x)=0\}$ y entonces $[0:1:0]$ es otro punto singular. Para todas las demás $c\in\C\setminus{0,1}$, $L_{c}=\{y^{3}-z^{3}-c(x^{3}-z^{3})=0\}$ y calculando el gradiente correspondiente, es fácil ver que estas curvas son suaves y como todas están dadas por un polinomio de grado tres entonces tienen género uno (ver \cite{FischerGerd}).\\

Observemos que los doce puntos singulares radiales están contenidos en las curvas de nivel singulares de $H$, por lo tanto, si consideramos la función $h=H\circ\Pi\colon M\rightarrow\overline{\C}$ y $c\in\C\setminus\{0,1\}$ entonces $h^{-1}(c)$ es topológicamente equivalente a un toro. Si $V=M\setminus h^{-1}\{0,1\infty\}$ y $\Omega=\C\setminus\{0,1\}$ entonces $h\colon V\rightarrow\Omega$ satisface las hipótesis del lema (\ref{Lema:HazTopologico}) y por lo tanto, $(V,h,\Omega)$ es un haz topológico. Como $\tilde{\Foli_{\alpha}^{4}}$ es transversal a $\tilde{\Foli_{\infty}^{4}}$, si fijamos una fibra no singular $T_{a}=h^{-1}(a)$ obtenemos el grupo de holonomía global $G_{\alpha}$ de $\tilde{\Foli_{\alpha}^{4}}$ asociado al haz fibrado $(V,h,\Omega)$. Antes de continuar veamos quién es la fibra de este haz topológico.
\begin{Proposicion}
\label{Prop:FibraDelHaz}
Sea $(V,h,\Omega)$ el haz vectorial de arriba, si $\Gamma=\mathbb{Z}\oplus j\mathbb{Z}$ entonces, $h^{-1}(a)\simeq\C/\Gamma$.
\end{Proposicion}
\begin{proof}
Si fijamos una foliación $\tilde{\Foli_{\alpha}^{4}}$ ,como el grupo fundamental de $\Omega$ está generado por dos elementos, entonces  el grupo de holonomía $G_{\alpha}$ está generado por dos biholomorfismos $f_{\alpha},g_{\alpha}\colon T_{a}\rightarrow T_{a}$. La foliación $\tilde{\mathcal{F}}_{\alpha}^{4}$ sólo tiene nueve puntos singulares y de manera local, alrededor de cada uno de estos puntos, la foliación está generada por el campo vectorial $3u\tfrac{\partial}{\partial u}-v\tfrac{\partial}{\partial v}$ (proposición \ref{Prop:2}). Así, la transformación de holonomía asociada a la sepatriz local $\{v=0\}$ es $v\mapsto e^{\tfrac{2\pi i}{3}}v$ y tiene orden tres. Si tomamos a $T_{a}$ como una transversal a la separatriz local $\{v=0\}$, entonces $f_{\alpha}^{3}=g_{\alpha}^{3}=Id$ y tanto $f_{\alpha}$ como $g_{\alpha}$ fijan un punto. Un toro que tenga un automorfismo con las propiedades anteriores es biholomorfo a $\C/\Gamma$ donde $\Gamma=\mathbb{Z}\oplus j\mathbb{Z} \}$ (ver apéndice \ref{ApendiceToros}).
\end{proof}

\section{El grupo de holonomía global de $\tilde{\Foli_{\alpha}^{4}}$.}

Para probar que una foliación $\Foli_{\alpha}^{4}$ tiene una primera integral racional vamos a usar agunas propiedades del grupo de holonomía global que se construyó en la sección anterior. En está sección probaremos algunas propiedades de este grupo. 

\begin{Lema}
\label{Prop:GrupoHolonomia}
Sea $G_{\alpha}$ el grupo de holonomía global asociado al haz fibrado $(V,h,\Omega)$ y la foliación $\tilde{\Foli_{\alpha}^{4}}$. Entonces en una carta adecuada de $\C$, $G_{\alpha}$ está generado por $f_{\alpha}(z)=jz$ y $g_{\alpha}(z)=jz+A(\alpha)$.
\end{Lema}
\begin{proof}
Si fijamos coordenadas de una cubierta universal $P\colon \C\rightarrow T_{a}$ entonces en esta cubierta, $f_{\alpha}(z)=jz+a(\alpha)$ y $g_{\alpha}=jz+b(\alpha)$. Notemos que $z_{0}(\alpha)=\tfrac{a(\alpha)}{1-j}$ es un punto fijo de $f_{\alpha}$, por lo tanto, si $k_{\alpha}(z)=z+z_{0}(\alpha)$ entonces $k_{\alpha}^{-1}\circ f_{\alpha}\circ k_{\alpha}(z)=jz$. En estas nuevas coordenadas, $k_{\alpha}^{-1}\circ g_{\alpha}\circ k_{\alpha}(z)=jz+b(\alpha)-a(\alpha)=jz+A(\alpha)$. 
\end{proof}

A continuación veremos como se ve un subrgupo de biholomorfismos de $\C/\Gamma$ generado por dos elementos $f(z)=jz$ y $g(z)=jz+A$.

\begin{Proposicion}
\label{Prop:DescripcionDelGrupo}
Sea $G$ un subgrupo de biholomorfismos de $\C/\Gamma$ generado por $f(z)=jz$ y $g(z)=jz+A$, entonces $G=\{j^{i}z+A;\, i\in\{0,1,2\},\, d\in\mathbb{Z}\oplus j\mathbb{Z} \}$.
\end{Proposicion}
\begin{proof}
Si $G_{1}=\{j^{i}z+A;\, i\in\{0,1,2\},\, d\in\mathbb{Z}\oplus j\mathbb{Z} \}$, es claro que $G\subset G_{1}$. Para demostrar que $G_{1}\subset G$ basta ver que $z+A$ y $z+jA$ están en $G$ pues en este caso, si $d=m+jn$ tenemos que $\mu(z)=z+dA=z+(m+nj)A=z+mA+njA\in G$ y si a $\mu$ le anteponemos $f$ y $f^{2}$ obtenemos las transformaciones $jz+dA$ y $j^{2}z+dA$ respectivamente. Así pues, $g\circ f^{2}=j(j^{2}z)+A=z+A$ y $f\circ g\circ f=j(j^{2}z+A)=z+jA$
\end{proof}

Ahora vienen unas equivalencias que nos van a ayudar a probar la existencia de primeras integrales racionales.

\begin{Corolario}
\label{Coro:Equivalencias}
Sea $G$ un grupo como el de arriba, entonces son equivalentes:
\begin{enumerate}
\item $G$ es finito.
\item $G$ tiene órbita finita en $\C/\Gamma$.
\item Existe $n\in\mathbb{N}$ tal que $nA\in\Gamma$.
\end{enumerate}
\end{Corolario}
\begin{proof}
$1\Rightarrow 2$. Es claro.

\noindent $2\Rightarrow 3$ Sea $\mu(z)=z+A$, fijemos $z_{0}\in\C/\Gamma$ y consideremos al conjunto $\{z_{0},\mu(z_{0}),\mu^{2}(z_{0}),\ldots \}$. Como la órbita de $z_{0}$ es finita tienen que existir $m,n\in\mathbb{N},\, m<n$ tales que $\mu^{m}(z_{0})=\mu(z_{0})^{n}$ (mod $\Gamma$). Esto quiere decir que $mA=nA$ (mod $\Gamma$) y por lo tanto $(n-m)A\in\Gamma$.

\noindent $3\Rightarrow 1$. Para probar este úlitmo inciso y para uso posterior, vamos a calcular explícitamente el número de elementos de $G$. Sea $k\in\mathbb{N}$ el natural más pequeño que satisface $kA\in\Gamma$ y $\mu(z)=j^{i}z+dA\in G$, encontraremos una manera equivalente de escribir a $\mu$. Si $d=(p+jq)$ y dividimos a $p$ y $q$ entre $k$ obtenemos $p=ka +\tilde{p}$ y $q=kb+\tilde{q}$ con $0\leq\tilde{p},\tilde{q}<k$ y entonces podemos escribir a $\mu$ como $\mu(z)=j^{i}+k(a+jb)A+(\tilde{p}+j\tilde{q})A$ pero módulo $\Gamma$, $k(a+jb)A=0$, pues $kA\in\Gamma$ por lo tanto, $\mu(z)$ induce la misma transformación que $\tilde{\mu}(z)=j^{i}z+(\tilde{p}+j\tilde{q})A$ y además $0\leq\tilde{p},\tilde{q}<k$. Lo anterior quiere decir que toda transformación $\mu(z)=j^{i}z+dA$ la podemos escribir con una $d=m+jn$ tal que $0\leq m,n<k$. Con esto no es difícil convencerse de que $G$ tiene $3k^{2}$ elementos.
\end{proof}

Y ahora por fin, algunas consecuencias que tiene la cardinalidad del grupo de holonomía global $G_{\alpha}$ sobre la integrabilidad de la foliación $\Foli_{\alpha}^{4}$ de $\CP$.

\begin{Proposicion}
\label{Prop:EquivalenciasIntegrabilidad}
Sea $G_{\alpha}=\langle jz,jz+A(\alpha)\rangle$ el grupo de holonomía global asociado a $\tilde{F}_{\alpha}$, entonces son equivalentes:
\begin{enumerate}
\item $\Foli_{\alpha}^{4}$ tiene una primera integral racional.
\item $\Foli_{\alpha}^{4}$ tiene una hoja algebraica que no está contenida en las líneas invariantes de $\mathcal{L}$.
\item Existe un natural $n\in\mathbb{N}$ tal que $nA(\alpha)\in\Gamma$.
\end{enumerate}
\end{Proposicion} 
\begin{proof}
$1\Rightarrow 2$. Es claro.

\noindent $2\Rightarrow 3$ Sea $L$ una hoja algebraica de $\Foli_{\alpha}^{4}$ que no está contenida en las líneas de $\mathcal{L}$. Por el teorema de Bézout tenemos que $L\cap H^{-1}(a)$ es un conjunto finito. Si $\tilde{L}$ es el transformado estricto de $L$ ($\mathcal{i.e.}$ $\tilde{L}=\overline{\Pi^{-1}(L\setminus\mathcal{P})}$ donde $\mathcal{P}$ son los puntos que explota $\Pi^{-1}$), entonces $\tilde{L}\cap T_{a}$ es un conjunto finito pues $T_{a}=\Pi^{-1}(H^{-1}(a))$, pero $\tilde{L}\cap T_{a}$ es una órbita de $G_{\alpha}$ y por el corolario anterior, existe $n\in\mathbb{N}$ tal que $nA(\alpha)\in\Gamma$.

\noindent $3\Rightarrow 1$\\AUN NO TENGO BIEN LA PRUEBA DE ESTA PARTE PERO YA CASI ESTA.
\end{proof}
